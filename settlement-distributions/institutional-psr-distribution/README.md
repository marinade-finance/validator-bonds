# Engine to generate protected event Settlements for Institutional Staking

## Usage

### 1. Gathering input data

```bash
# Download input files from Google Storage
epoch=652
bucket=marinade-institutional-staking-mainnet
# generated by @marinade.finance/institutional-staking-cli NPM package
gcloud storage cp "gs://$bucket/$epoch/psr-payouts.json" "psr-payouts.json"
```

### 2. Generating protected events

```bash
# Build & run
cargo run --release --bin institutional-psr-distribution-cli -- \
    --institutional-psr-payouts psr-payouts.json \
    --output-settlement-collection "./protected-event-settlements.json" \
    --output-merkle-tree-collection "./protected-event-merkle-trees.json"
```
